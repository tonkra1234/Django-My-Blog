{% extends 'base.html'%} {% block content %}
<!-- Posts Section -->
<section class="w-full items-center px-3 min-h-screen">
  <div class="grid my-5">
    <h1 class="mb-6 text-3xl font-bold">{{Type_project}}</h1>
    <hr />
  </div>
  <div class="grid grid-cols-1 md:grid-cols-4">
    {% for project in Projects %}
    <article class="flex flex-col shadow my-4 mx-3">
      <div class="max-w-sm rounded overflow-hidden shadow-lg">
        <img
          class="w-full h-52 hover:opacity-70"
          src="{{project.image_url}}"
          alt="{{project.name_of_project}}"
        />
        <div class="px-6 py-4">
          <div class="font-bold text-xl mb-2 h-20">
            {{project.name_of_project}}
          </div>
          <p class="text-gray-700 text-base line-clamp-3">
            {{project.description}}
          </p>
        </div>
        <div class="px-6 pt-4 pb-2">
          <a
            class="inline-flex items-center h-8 px-2 m-2 text-sm text-indigo-100 transition-colors duration-150 bg-indigo-700 rounded-lg focus:shadow-outline hover:bg-indigo-800"
            href="#"
            >Read more</a
          >
          <a
            class="inline-flex items-center h-8 px-2 m-2 text-sm text-orange-100 transition-colors duration-150 bg-orange-700 rounded-lg focus:shadow-outline hover:bg-orange-800"
            href="/edit_project/{{project.id}}"
            >Edit</a
          >
          <a
            class="inline-flex items-center h-8 px-2 m-2 text-sm text-red-100 transition-colors duration-150 bg-red-700 rounded-lg focus:shadow-outline hover:bg-red-800"
            id="delete_project{{project.id}}"
            >Delete</a
          >
          <script>
            document
              .querySelector("#delete_project{{project.id}}")
              .addEventListener("click", function () {
                Swal.fire({
                  title: "Are you sure?",
                  text: "You won't be able to revert this!",
                  icon: "warning",
                  showCancelButton: true,
                  confirmButtonColor: "#3085d6",
                  cancelButtonColor: "#d33",
                  confirmButtonText: "Yes, delete it!",
                }).then((result) => {
                  if (result.isConfirmed) {
                    Swal.fire({
                      title: "Deleted!",
                      text: "Your file has been deleted.",
                      icon: "success",
                    }).then(function () {
                      window.location = "/delete_PTopic/{{project.id}}";
                    });
                  }
                });
              });
          </script>
        </div>
      </div>
    </article>
    {% endfor %}
  </div>
</section>

{% endblock%}
